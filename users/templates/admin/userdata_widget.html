<div ng-app="userdata">
    {% verbatim %}
    <div ng-repeat="(key, value) in data" class="row-fluid">
        <div class="span4">
            <strong>{{ key }}:</strong>
        </div>
        <div class="span4">
            <input ng-if="debug" type="text" ng-model="data[key]">
            <span ng-if="!debug">{{ display(value) }}</span>
        </div>
    </div>
    <textarea name="data" class="data ng-hide">{{ data }}</textarea>
    {% endverbatim %}
</div>
<script>
    angular.module('userdata', []).run(['$rootScope', function(scope) {
        scope.data = {{ value|safe }};
        scope.debug = {{ debug }};
        scope.display = function(value) {
            return typeof(value.join) == 'function' ? value.join(', ') : value;
        }
    }]);
</script>
